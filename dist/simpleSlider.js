define("moe/simpleSlider/0.0.1/simpleSlider",["arale/events/1.1.0/events"],function(a,b,c){var d=jQuery,e=a("arale/events/1.1.0/events");d.extend(d.easing,{easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c}});var f=function(a){return this.init(a)};e.mixTo(f);var g={auto:!0,interval:2e3};f.prototype.init=function(a){var b=this;d.extend(g,a),this.option=g,this.$target=d(this.option.target),this.curr=0,this.length=5;var c=d('[data-action="next"]'),e=d('[data-action="prev"]');c.on("click",function(){b.next()}),e.on("click",function(){b.prev()}),this.option.auto&&this.autoGo(),this._buildDots()},f.prototype._buildDots=function(){var a=this;if(this.option.dotsContainer){for(var b=d(this.option.dotsContainer),c="",e=this.length,f=1;e>=f;)c+='<ul class="slider_dots"><li class="dot-item"><span class="dot"></span></li>',f++;c+="</ul>",b.html(c);var g=b.find("li.dot-item");a.$dotItems=g,g.on("click mouseenter",function(){var b=d(this).index(".slider_dots>li.dot-item");a.curr=b,a.stop(),a.setDotCss(b),a.goto(b),a.resume()}),this.$target.mouseenter(function(){clearTimeout(a.timeout)}).mouseleave(function(){a.resume()})}},f.prototype.setDotCss=function(a){this.$dotItems.find(".dot").css({backgroundColor:"red"}),this.$dotItems.eq(a).find(".dot").css({backgroundColor:"purple"})},f.prototype.goto=function(a){var b=this;a>=5&&(this.curr=a=0),-1>=a&&(this.curr=a=4),this.trigger("switch::start",b.curr),this.$target.animate({left:224*-a},this.option.speed,"easeOutQuad",function(){b.trigger("switch::done",b.curr),b.$dotItems.find(".dot").css({backgroundColor:"red"}),b.$dotItems.eq(a).find(".dot").css({backgroundColor:"purple"})})},f.prototype.next=function(){this.trigger("next",this.curr),this.stop(),this.curr++,this.goto(this.curr),this.resume()},f.prototype.prev=function(){this.trigger("prev",this.curr),this.stop(),this.curr--,this.goto(this.curr),this.resume()},f.prototype.stop=function(){var a=this;this.trigger("stop",a.curr),clearTimeout(a.timeout),clearTimeout(a.delayTimeout),this.$target.stop()},f.prototype.resume=function(){var a=this;this.option.auto&&(this.trigger("resume",a.curr),a.delayTimeout=setTimeout(function(){a.autoGo()},a.option.interval+a.option.speed))},f.prototype.autoGo=function(){var a=this;a.curr++,a.goto(a.curr),a.timeout=setTimeout(function(){a.autoGo()},a.option.interval+a.option.speed)},c.exports=f});
